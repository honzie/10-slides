"use strict";(function(){let e=document.getElementById("presentButton");let n=document.getElementById("edit");let t=document.getElementById("present");let i=function(e){let n=e.split(" (")[0];return n.indexOf("://")>=0&&n.match(/\s/)===null};let l=function(e,n){let t=e.split("\n");let l=document.createElement("section");let d;let c;let s;let r=true;let a=function(e){if(c&&e!=="list"){l.appendChild(c);c=undefined}if(d&&e!=="gallery"){l.appendChild(d);d=undefined}if(s&&e!=="code"){l.appendChild(s);s=undefined}};for(let u=0;u<t.length;u++){let o=t[u].trim();if(u===0){if(i(o)){let f=o.split(" (");let m=document.createElement("p");m.innerText=f[1].slice(0,f[1].length-1);l.appendChild(m);let p=document.createElement("div");p.classList.add("full-bleed");p.style.backgroundImage="url("+f[0]+")";l.appendChild(p)}else{let m=document.createElement(n===0?"h1":"h2");m.innerText=o;l.appendChild(m)}}else{if(o[0]==="-"||o[0]==="*"){a("list");if(!c){c=document.createElement("ul");r=false}let m=document.createElement("li");m.innerText=o.slice(1).trim();c.appendChild(m)}else if(i(o)){a("gallery");if(!d){d=document.createElement("ul");d.classList.add("gallery");r=false}let f=o.split(" (");let p=new Image;p.src=f[0];p.alt=f[1].slice(0,f[1].length-1);let m=document.createElement("li");m.appendChild(p);d.appendChild(m)}else if(t[u].indexOf("  ")===0){a("code");if(!s){s=document.createElement("pre");r=false}s.innerText+=t[u].slice(2)+"\n"}else{a();if(u>=2){r=false}let m=document.createElement("p");m.innerText=o;l.appendChild(m)}}}a();if(r){l.classList.add("slide--centered")}return l};let d=function(){let e=n.value;let i=e.split("\n\n");let d=document.createElement("main");for(let c=0;c<i.length;c++){d.appendChild(l(i[c],c))}let s=document.createElement("section");s.classList.add("slide--end");d.appendChild(s);t.innerHTML=d.innerHTML;t.classList.add("u-visible");t.querySelector("section").classList.add("current")};let c=function(){let e=t.querySelector(".current");if(e){e.classList.remove("current");if(e.nextSibling){e.nextSibling.classList.add("current")}else{r()}}};let s=function(){let e=t.querySelector(".current");if(e&&e.previousSibling){e.classList.remove("current");e.previousSibling.classList.add("current")}};let r=function(){window.location.hash=""};d();e.addEventListener("click",d);t.addEventListener("click",c);let a={27:r,37:s,38:s,39:c,40:c};document.addEventListener("keydown",function(e){if(a[e.keyCode]){a[e.keyCode]()}});n.addEventListener("input",function(e){window.localStorage.slideshow=n.value})})();