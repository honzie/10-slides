"use strict";(function(){let e=document.getElementById("presentButton");let n=document.getElementById("edit");let t=document.getElementById("present");let i=document.getElementById("modal");let l=document.getElementById("load");let d=document.getElementById("discard");let c=function(e){let n=e.split(" (")[0];return n.indexOf("://")>=0&&n.match(/\s/)===null};let s=function(e,n){let t=e.split("\n");let i=document.createElement("section");let l;let d;let s;let r=true;let a=function(e){if(d&&e!=="list"){i.appendChild(d);d=undefined}if(l&&e!=="gallery"){i.appendChild(l);l=undefined}if(s&&e!=="code"){i.appendChild(s);s=undefined}};for(let o=0;o<t.length;o++){let u=t[o].trim();if(o===0){if(c(u)){let m=u.split(" (");let f=document.createElement("p");f.innerText=m[1].slice(0,m[1].length-1);i.appendChild(f);let p=document.createElement("div");p.classList.add("full-bleed");p.style.backgroundImage="url("+m[0]+")";i.appendChild(p)}else{let f=document.createElement(n===0?"h1":"h2");f.innerText=u;i.appendChild(f)}}else{if(u[0]==="-"||u[0]==="*"){a("list");if(!d){d=document.createElement("ul");r=false}let f=document.createElement("li");f.innerText=u.slice(1).trim();d.appendChild(f)}else if(c(u)){a("gallery");if(!l){l=document.createElement("ul");l.classList.add("gallery");r=false}let m=u.split(" (");let p=new Image;p.src=m[0];p.alt=m[1].slice(0,m[1].length-1);let f=document.createElement("li");f.appendChild(p);l.appendChild(f)}else if(t[o].indexOf("  ")===0){a("code");if(!s){s=document.createElement("pre");r=false}s.innerText+=t[o].slice(2)+"\n"}else{a();if(o>=2){r=false}let f=document.createElement("p");f.innerText=u;i.appendChild(f)}}}a();if(r){i.classList.add("slide--centered")}return i};let r=function(){let e=n.value;let i=e.split("\n\n");let l=document.createElement("main");for(let d=0;d<i.length;d++){l.appendChild(s(i[d],d))}let c=document.createElement("section");c.classList.add("slide--end");l.appendChild(c);t.innerHTML=l.innerHTML;t.querySelector("section").classList.add("current")};let a=function(){let e=t.querySelector(".current");if(e){e.classList.remove("current");if(e.nextSibling){e.nextSibling.classList.add("current")}else{u()}}};let o=function(){let e=t.querySelector(".current");if(e&&e.previousSibling){e.classList.remove("current");e.previousSibling.classList.add("current")}};let u=function(){window.location.hash=""};r();e.addEventListener("click",r);t.addEventListener("click",a);let m={27:u,37:o,38:o,39:a,40:a};document.addEventListener("keydown",function(e){if(m[e.keyCode]){m[e.keyCode]()}});try{let f=function(e){return function(){i.classList.remove("u-visible");if(e){n.value=window.localStorage.slideshow}}};if(window.localStorage.slideshow){i.classList.add("u-visible");l.addEventListener("click",f(true));d.addEventListener("click",f())}}catch(p){}n.addEventListener("input",function(e){try{window.localStorage.slideshow=n.value}catch(t){}})})();